{% extends "datastax/ticker/base.jinja2" %}

{% block title %}Ticker{% endblock %}

{% block body %}
    <div id="page-generic">
        {% include "datastax/ticker/navbar.jinja2" %}

        <table id="item-list">
            <thead>
            <tr>
                <th class="tapcell1">Symbol
                </th>
                <th class="tapcell2">Current
                </th>
                <th class="tapcell3">Gain / Loss
                </th>
            </tr>
            </thead>
            <tbody>
            {% for row in results %}
                <tr class="selecteditem" id="itemblistutton{{ loop.index }}">
                    <td class="tapcell1">
                        <a href="#">{{ row.symbol }}</a>
                    </td>
                    <td class="tapcell2"
                        id="current-{{ row.exchange }}-{{ row.symbol }}">
                        ---
                    </td>
                    <td class="tapcell3"
                        id="gain-{{ row.exchange }}-{{ row.symbol }}">
                        ---
                    </td>
                </tr>
                <script type="text/javascript">
                    currentValues('{{ row.exchange }}', '{{ row.symbol }}', '{{ row.quantity }}', '{{ row.investment }}');
                </script>
            {% endfor %}
            </tbody>
        </table>

        <div id="details-list-block">
            {% for row in results %}
                <div id="itemblistdetails1" class="itemblistdetailsclass">
                    <table id="details-list">
                        <tbody>
                        <tr>
                            <td class="dlcname">
                                <a href="#">{{ row.name }}</a>
                            </td>
                            <td>
                                <p class="dlcsubheader">Change</p>

                                <p id="investment-change-{{ row.exchange }}-{{ row.symbol }}">
                                    ---
                                </p></td>
                        </tr>
                        <tr>
                            <td>
                                <p class="dlcsubheader">Action </p>

                                <p>
                                    <a href="#">Buy</a> /
                                    <a href="#">Sell</a></p>
                            </td>
                            <td>
                                <p class="dlcsubheader">Quantity </p>

                                <p>{{ row.quantity }}</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p class="dlcsubheader">Last Trade </p>

                                <p>${{ '%0.2f'|format(row.last_trade) }}</p>
                            </td>
                            <td>
                                <p class="dlcsubheader">Balance </p>

                                <p id="balance-{{ row.exchange }}-{{ row.symbol }}">
                                    ---
                                </p>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            {% endfor %}
        </div>
    </div>

    <script src="static/js/datastax/ticker/custom-v1.js"></script>
{% endblock %}
